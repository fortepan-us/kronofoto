{% with id=widget.attrs.id %}<ul{% if id %} id="{{ id }}" data-terms{% endif %}{% if widget.attrs.class %} class="{{ widget.attrs.class }}"{% endif %}>{% for group, options, index in widget.optgroups %}{% if group %}
  <li>{{ group }}<ul{% if id %} id="{{ id }}_{{ index }}"{% endif %}>{% endif %}{% for option in options %}
    <li>{% with widget=option %}
{% if widget.wrap_label %}<label{% if widget.attrs.id %} for="{{ widget.attrs.id }}"{% endif %} class="term-label">{% endif %}{% include "django/forms/widgets/input.html" %}{% if widget.wrap_label %}<span class="term-name">{{ widget.label.term }}</span></label><div class="term-definition">{{ widget.label.description }}</div>{% endif %}
    {% endwith %}
    </li>{% endfor %}{% if group %}
  </ul></li>{% endif %}{% endfor %}
</ul>{% endwith %}

