{% load widgets %}
{% load krono_urls %}

    <div id="card-{{ card.id }}" class="card container container--full-width container--no-padding" style="z-index: {{zindex}}">
        <div class="full-image-area {{ image_area_classes | join:" " }}">
            {% if form %}
            <div class="add-image-button" hx-get="{% krono_url "kronofoto:exhibit-images" pk=exhibit.pk %}?target={{ form.photo.auto_id }}" hx-target="#add-image-modal" data-target="{{ form.photo.auto_id }}"></div>
            {% endif %}
            <a class="full-image-area__info info-button info-button--top" href="#" target="_blank"> 
                <span class="info-button__icon"></span>
                <div class="info-button__text"{% if form %} hx-get="{% krono_url "kronofoto:attribution" %}" hx-include="#{{ form.photo.auto_id }}" hx-vals='{"html_name": "{{ form.photo.html_name }}" }' hx-trigger="change from:#{{ form.photo.auto_id }}"{% endif %}>{% include "archive/snippets/attribution.html" with object=card.photo %}</div>
            </a>
            <div class="full-image-area__text">
                <h2 contenteditable="true" role="textbox" data-target="{{ form.title.auto_id }}">{{ card.title }}</h2>
                <span contenteditable="true" role="textbox" data-target="{{ form.description.auto_id }}">{{ card.description }}</span>
            </div>
            <div class="full-image-area__image" data-aos="fade-zoom-in" data-aos-easing="ease-in-back" data-aos-delay="300" data-aos-offset="0"{% if form %} hx-get="{% krono_url "kronofoto:exhibit-full-image" %}" hx-include="#{{ form.photo.auto_id }}" hx-vals='{"html_name": "{{ form.photo.html_name }}" }' hx-trigger="change from:#{{ form.photo.auto_id }}"{% endif %}>
                {% include "archive/components/full-image.html" with photo=card.photo %}
            </div>
            {% if form %}
                <div class="full-image-area__select-alignment" data-toggler=".expanded" id="{{ form.alignment.auto_id }}" data-toggle="{{ form.alignment.auto_id }}" data-toggle-focus="{{ form.alignment.auto_id }}">
                    <div data-toggle="{{ form.alignment.auto_id }}">
                        {{ form.alignment.0.tag }}
                        <label for="{{ form.alignment.0.id_for_label }}">fit to page</label>
                    </div>
                    <div data-toggle="{{ form.alignment.auto_id }}">
                        {{ form.alignment.3.tag }}
                        <label for="{{ form.alignment.3.id_for_label }}">fill page</label>
                    </div>
                </div>
            {% endif %}
        </div>
        {% if form %}
            <div class="component-menu--off-canvas">
                <button type="button" class="up" aria-label="Move up">Move up</button>
                <button type="button" class="down" aria-label="Move down">Move down</button>
                <button type="button" class="delete" aria-label="Delete">Delete</button>
            </div>
            <div class="hide">
            {% for field in form %}
            {% if field != form.alignment %}
            {{ field.as_hidden }}
            {% endif %}
            {% endfor %}
            <input type="hidden" name="prefix" value="{{ form.prefix }}">
{#          <input type="submit" name="save" value="Save"> #}
            </div>
        {% endif %}
    </div>
